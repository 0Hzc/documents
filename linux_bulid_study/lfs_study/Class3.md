### 📦 第三课：物资采购 (Materials Procurement)

假设你已经修复了上面的挂载脚本，现在我们的 LFS 系统有了一个 10GB 的家（`/mnt/lfs`），而且里面已经有了存放建材的仓库（`/mnt/lfs/sources`）。

但是仓库是空的。LFS 需要大概 80 多个软件包的**源码压缩包**（Tarballs）。我们需要把它们全部下载下来，并且**验证真伪**。

在 LFS 手册中，这一步通常涉及两个文件：

1.  `wget-list`：一个长长的列表，包含了所有软件的下载链接。
2.  `md5sums`：一个包含了所有文件 MD5 哈希值的文件，用来验证下载的文件是否损坏或被篡改。

#### 核心概念：为什么要验证 MD5？

  * **下载损坏**：网络波动可能导致下载的文件只有一半。如果拿这个坏文件去编译，可能跑了 1 小时后报错，非常浪费时间。
  * **安全风险**：验证哈希值能确保你拿到的代码和官方发布的一模一样，没有被黑客植入后门。

-----

### 🛠️ 任务三：编写自动下载与校验脚本

请编写脚本 `download_sources.sh`。

为了模拟真实环境，我们不需要真的去下载 80 个包（那太慢了），我们**模拟**下载 2 个关键的核心包：`binutils` 和 `gcc`。

**我负责提供“采购清单”素材：**

请在脚本最开始，使用我们学过的 `cat > ... <<EOF` 技术，在 `/mnt/lfs/sources` 下生成两个文件。

**文件 1：`wget-list`**

```text
https://ftp.gnu.org/gnu/binutils/binutils-2.43.1.tar.xz
https://ftp.gnu.org/gnu/gcc/gcc-14.2.0/gcc-14.2.0.tar.xz
```

**文件 2：`md5sums`**
*(注：这里为了模拟演示，你可以先假设这两个文件的 MD5 值。在脚本里我们先写个假的或者空的逻辑，或者真的去下载)*
为了让任务简单点，我们先**只做下载逻辑**。

**脚本需求：**

1.  **检查用户**：必须是 root（因为要写 `/mnt/lfs/sources`）。
2.  **检查目录**：确保 `/mnt/lfs/sources` 存在且可写。
3.  **生成清单**：
      * 切换目录到 `$LFS/sources` (使用 `cd $LFS/sources`)。
      * 使用 `Here Document` 生成上面的 `wget-list` 文件。
4.  **批量下载**：
      * 使用 `wget` 命令读取 `wget-list` 并下载。
      * **关键参数**：`wget --input-file=wget-list --continue --directory-prefix=$LFS/sources`
      * *提示：`--continue` (或 `-c`) 表示断点续传，如果下载了一半断了，下次接着下。*
5.  **模拟校验 (选做)**：
      * 虽然我们没有真的 md5sums 文件，但你可以写一行命令：
      * `md5sum * > generated_md5sums`
      * 意思是计算当前下载下来的文件的 MD5，并保存起来。

**特别挑战**：
由于国内网络连接 GNU 官网可能很慢。如果你发现下载不动，你的脚本可以只包含逻辑，不用真的等它下载完（按 Ctrl+C 中断）。或者，你可以把链接换成你可以快速访问的任意小文件的链接（比如百度的 logo），仅为了测试脚本逻辑。

**重点考察**：

  * `cd` 切换目录的使用。
  * `wget` 参数的正确组合。
  * 脚本在执行耗时操作（下载）时的交互提示。

请开始编写 `download_sources.sh`！